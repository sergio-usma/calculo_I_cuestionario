<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Análisis Funcional · Cálculo I · ENAP</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <!-- MathJax -->
    <script
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
      id="MathJax-script"
      async
    ></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Estilos personalizados -->
    <link rel="stylesheet" href="style.css" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⚓</text></svg>"
    />
  </head>
  <body>
    <nav class="navbar py-2">
      <div class="container d-flex align-items-center">
        <div class="d-flex align-items-center">
          <img
            src="logo_ENAP.png"
            alt="Logo ENAP"
            class="logo-enap me-3"
            onerror="
              this.src =
                'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'60\' height=\'60\' viewBox=\'0 0 100 100\'%3E%3Crect width=\'100\' height=\'100\' fill=\'%231a365d\'/%3E%3Ctext x=\'10\' y=\'68\' fill=\'%23ffffff\' font-size=\'70\' font-family=\'Arial\'%3E⚓%3C/text%3E%3C/svg%3E'
            "
          />
          <div
            class="vr me-3 d-none d-md-block"
            style="height: 60px; opacity: 0.2"
          ></div>
          <div class="d-flex flex-column">
            <span
              class="fw-semibold fs-6"
              style="color: var(--primary); line-height: 1.3"
            >
              Escuela Naval de Cadetes Almirante Padilla
            </span>
            <span class="small" style="color: var(--primary)"
              >División de Marina Mercante</span
            >
            <span class="small" style="color: var(--primary)"
              >Programa de Ciencias Náuticas Especialidad Puente</span
            >
          </div>
        </div>
        <div class="d-flex align-items-center">
          <button
            class="btn btn-icon me-2"
            id="darkModeToggle"
            type="button"
            aria-label="Alternar modo oscuro"
          >
            <i class="bi bi-moon-fill dark-mode-icon" id="darkModeIcon"></i>
          </button>
          <span class="badge-flag" id="progressBadge">0 / 50</span>
        </div>
      </div>
    </nav>

    <main class="container py-4">
      <div class="row mb-4 align-items-center">
        <div class="col-md-8">
          <h2 class="fw-bold">Cuestionario de Calculo I</h2>
          <p class="text-muted">
            Estudio integral de funciones en el plano cartesiano.
          </p>
        </div>
        <div class="col-md-4 text-md-end">
          <select
            id="exerciseSelect"
            class="form-select form-select-lg shadow-sm border-primary"
          ></select>
        </div>
      </div>

      <div class="d-flex gap-2 mb-4 overflow-x-auto pb-2">
        <button class="btn btn-primary px-4 shadow" onclick="generarGrafica()">
          <i class="bi bi-graph-up-arrow"></i> Graficar
        </button>
        <button class="btn btn-success px-4 shadow" onclick="verificarTodo()">
          <i class="bi bi-shield-check"></i> Verificar Todo
        </button>
        <button
          class="btn btn-light border px-4 shadow-sm"
          onclick="reiniciarTodo()"
        >
          <i class="bi bi-arrow-clockwise"></i> Reiniciar
        </button>
      </div>

      <div class="funcion-card">
        <div id="mathDisplay" class="funcion-math">\( y = f(x) \)</div>
      </div>

      <!-- Cuestionario en grid de 2 columnas en desktop -->
      <div id="quizContainer" class="quiz-grid mt-4"></div>

      <div class="chart-container shadow-lg border-0 mt-4">
        <canvas id="mainChart"></canvas>
      </div>

      <div
        id="globalResult"
        class="alert d-none mt-5 text-center shadow-lg border-0 py-4"
      ></div>
    </main>

    <footer>
      <div class="container text-center">
        <p class="foot mb-1">
          <a
            href="https://www.linkedin.com/in/vonusma/"
            class="text-white-50 text-decoration-none hover-white"
            target="_blank"
            rel="noopener noreferrer"
          >
            <i class="bi bi-linkedin"></i> Sergio Usma · Ciencias Náuticas 2026
          </a>
        </p>
      </div>
    </footer>

    <!-- Botón flotante para modo oscuro en móviles -->
    <button
      class="dark-mode-floating btn btn-icon"
      id="darkModeFloating"
      type="button"
      aria-label="Alternar modo oscuro"
    >
      <i class="bi bi-moon-fill dark-mode-icon"></i>
    </button>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Script principal -->
    <script src="script.js"></script>
  </body>
</html>